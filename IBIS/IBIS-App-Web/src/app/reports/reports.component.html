<ion-content class="ion-margin">
    <div class="contents">
      <ion-icon id="helpIcon" name="help-circle" style="color: #002850;" (click)="showHelp()" matTooltip="Help"></ion-icon>
      <ion-title><h1>Reports</h1></ion-title>
      <ion-searchbar class="isb" placeholder="Search Report..." showCancelButton="focus" [(ngModel)]="filterTerm" animated></ion-searchbar><br/>
       
        <!-- <ion-button class="light-Btn" (click)="generateInventoryReport()">Inventory Report</ion-button>
        <ion-button class="light-Btn" (click)="generateProductReport()">Products Report</ion-button>
        <ion-button class="light-Btn" (click)="generateOrdersReport()">Orders Report</ion-button>
        <ion-button class="light-Btn" (click)="generateSupplierReport()">Suppliers Report</ion-button>
        <ion-button class="light-Btn" (click)="generateWriteOffsReport()">Write Off Report</ion-button> -->
        <ion-row>
        <ion-button class="light-Btn" (click)="success=false;request='ordersChart';selectedProduct='';selectedValue='';CreateCustomerOrdersChart();success=true"> Customer Orders Report</ion-button>
        <ion-button class="light-Btn" (click)="success=false;request='ordersChart';selectedProduct='';selectedValue='';CreateSupplierOrdersChart();success=true"> Supplier Orders Report</ion-button>
        <ion-button class="light-Btn" (click)="request='stock';ClearChart();selectedValue='';selectedFormat='';success=false"> Stock Take Report</ion-button>
         <ion-button class="light-Btn" (click)="request='order';ClearChart();selectedProduct='';selectedFormat='';success=false">Customer Dated Orders Report ( 6 Months )</ion-button>
         <ion-button class="light-Btn" (click)="request='popular';ClearChart();selectedProduct='';selectedFormat='';success=false">Most Popular Products ordered. ( 6 Months )</ion-button>
         <ion-button class="light-Btn" (click)="request='category';ClearChart();selectedProduct='';selectedValue='';success=false" >Category Report</ion-button>
         <ion-button class="light-Btn" (click)="request='subCategory';ClearChart();selectedProduct='';selectedValue='';success=false" >SubCategory Report</ion-button>
        </ion-row>
        <ion-row>
        <mat-form-field *ngIf="request == 'order' || request == 'popular'">
        <mat-select   [(ngModel)]="selectedValue">
          <mat-option  *ngFor="let date of dropDown" [value]="date.monthNumber">
            {{date.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field *ngIf="request == 'stock'" >
        <mat-select   [(ngModel)]="selectedProduct">
          <mat-option  *ngFor="let product of products" [value]="product.product_ID">
            {{product.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field *ngIf="request=='subCategory' || request=='category'" >
        <mat-select   [(ngModel)]="selectedFormat">
          <mat-option  *ngFor="let format of formats" [value]="format.format_ID">
            {{format.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </ion-row>
    <ion-row *ngIf="request == 'order' || request == 'stock' || request == 'popular' || request=='subCategory' || request=='category'">
      
      <ion-button [disabled]="!selectedValue && !selectedProduct && !selectedFormat" (click)="Confirm();request='';">Confirm</ion-button>
      <ion-button (click)="request='';selectedProduct='';selectedValue=''">Cancel</ion-button>
    </ion-row>
    <!-- <ion-row *ngIf="request=='subCategory' || request=='category'">
    <ion-button  (click)="ConfirmPDF();request='';">PDF</ion-button>
      <ion-button  (click)="ConfirmExcel();request='';">Excel</ion-button>
    </ion-row> --> 
        <div  class="chart-container">
          
    </div>
    <div class="chartWrapper">
  <div class="chartAreaWrapper">
    <canvas  id="myChart" >{{ chart }}</canvas>
  </div>
</div>
    <button *ngIf="request == 'ordersChart' && success" mat-raised-button (click)="ExportToExcel()" >Export to Excel</button>
    </div>


   
