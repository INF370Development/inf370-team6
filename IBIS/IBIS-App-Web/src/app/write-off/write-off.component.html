


<h1 class="newheading">{{title}}</h1>
<table class="t">
    <tr class="thead">
      <th class="thead">Product ID</th>
      <th class="thead">Product Name</th>
      <th class="thead">Category</th>
      <th class="thead">Subcategory</th>
      <th class="thead">Price per category</th>
      <th class="thead">Quantity</th>
      <th class="thead">Expiry Date</th>
    </tr>
   <tr  class="row"  *ngFor="let item of data | async">
         <td>{{item.product_ID}}</td>
    <td>{{item.name}}</td>
    <td>{{GetCategoryName(item.category_ID)}}</td>
    <td>{{GetSubCategoryName(item.subCategory_ID)}}</td>
    <td>{{item.price}}</td>
    <td>{{item.quantity}}</td>
    <td>{{item.expiry}}</td>
    </tr>
</table> 


<div [formGroup]="form">
  
      <ion-list *ngIf="(type | async)==1">
        <ion-item>
          <ion-select formControlName="reason" aria-label="Fruit" interface="action-sheet" placeholder="Select reason" >
            <ion-select-option value="Expired">Expired product</ion-select-option>
            <ion-select-option value="requirement not met">product requirements not met</ion-select-option>
            <ion-select-option value="other">other</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>
    

      <label for="file" >
       
    
    <input type="file" id="file" style="display: none;" accept="image/*" formControlName="image" (change)="FileChoice($event);SetFileName($event)"  #fileUpload/>
    <ion-button (click)="fileUpload.click()" >Upload image</ion-button>
    
    <span style="color: white;"> {{fileName}}</span>
  </label>
  
    <h1 class="grey">Enter amount to write off</h1>
    <input class="grey" type="text" formControlName="quantity">



      <ion-button  [disabled]="!form.valid" (click)="createWriteOff()">Submit write Off</ion-button>
   
    </div>